\documentclass{beamer}

\mode<presentation> {
	\usetheme{CambridgeUS}
	\usecolortheme{beaver}
}

\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{lmodern}

\setbeamertemplate{blocks}[rounded][shadow=false]
\setbeamerfont{bibliography entry author}{size=\tiny}%
\setbeamerfont{bibliography entry title}{size=\tiny}
\setbeamerfont{bibliography entry journal}{size=\tiny}
\setbeamertemplate{itemize items}[default]
\setbeamertemplate{enumerate items}[default]
\setbeamerfont{bibliography entry note}{size=\tiny}

\newtheorem{proposition}{Proposition}

\title[Dynamic Symmetry Breaking]{Optimizing Dynamic Symmetry Breaking}

\author{
	A.J.Rouvoet \and
	Eddie Schoute \and
	Jurre Something \and
	Ivar Something
}
\institute[TU Delft]
{
	Delft, University of Technology \\
	\medskip
	\textit{\{j.vanBeek, a.j.Rouvoet, e.Schoute, i.j.g.intVeen\}@student.tudelft.nl}
}

\date{\today}

% create a new file handle
\newwrite\pdfpcnotesfile

% open file on \begin{document}
\AtBeginDocument{%
    \immediate\openout\pdfpcnotesfile\jobname.pdfpc\relax
    \immediate\write\pdfpcnotesfile{[notes]}
}

% define a # http://tex.stackexchange.com/a/37757/10327
\begingroup
    \catcode`\#=12
    \gdef\hashchar{#}%
\endgroup

% define command \pnote{} that works exactly like not but
% additionally writes notes to file in pdfpc readable format
\newcommand{\pnote}[1]{%
    % keep normal notes working
    \note{#1}%
    % write notes to file
    \begingroup
        \let\#\hashchar
        \immediate\write\pdfpcnotesfile{\#\#\# \theframenumber}%
        \immediate\write\pdfpcnotesfile{\unexpanded{#1}}%
    \endgroup
}
% close file on \begin{document}
\AtEndDocument{%
    \immediate\closeout\pdfpcnotesfile
}

\begin{document}

	\begin{frame}
		\titlepage % Print the title page as the first slide
	\end{frame}

	\begin{frame}
		\frametitle{Overview}
		\tableofcontents
	\end{frame}

\section{Introduction}

	\begin{frame}
		\frametitle{Introduction}
		\begin{block}{Symmetry Propagation}
			A feasible dynamic symmetry breaking technique for SAT-solvers as proposed by
			\cite{devriendt2012symmetry} in 2012.
		\end{block}
	\end{frame}

\section{Background}

	\subsection{SAT}
	\begin{frame}
		\frametitle{SAT notation}
	\end{frame}

	\subsection{Symmetry}
	\begin{frame}
		\frametitle{Symmetry}

		\begin{definition}[Symmetry]
			Consider a permutation $\sigma$ of a theory $T$. $\sigma$ is called a symmetry if and only if:
			\begin{itemize}
				\item $\sigma(\neg x) = \neg(\sigma(x))$
				\item $\sigma(\alpha)$ is a model for $T$ iff $\alpha$ is a model for $T$
			\end{itemize}
		\end{definition}

		\pause

		\begin{proposition}
			Let $\sigma$ be a symmetry of a theory $T$ and $c$ a clause.
			\begin{equation}
				T \vdash c \quad \implies \quad T \vdash \sigma( c )
			\end{equation}
		\end{proposition}
	\end{frame}	

	\subsection{Symmetry Breaking}
	\begin{frame}
		\frametitle{Symmetry Breaking}

		\begin{itemize}
			\item Static Symmetry Breaking		\pnote{ Static: by adding clauses }
			\item Dynamic Symmetry Breaking		\pnote{ Dynamic: by changing solver }
		\end{itemize}
	\end{frame}

	\subsection{Dynamic Symmetry Breaking}
	\begin{frame}
		\frametitle{Dynamic Symmetry Breaking}

		\begin{block}{Approach 1}
			Exploid symmetries to learn more clauses.
			For each learned clause $c$, $\sigma(c)$ could also be learned.
			
			\pause

			\emph{Not} feasible, adds to many clauses
		\end{block}

		\pause

		\begin{block}{Approach 2}
			Propagate symmetrical literals.

			Given theory $T$, patial assignment $\alpha$ and symmetry $\sigma$ of $T \cup \alpha$. For each literal $l$:
			\begin{equation}
				T \cup \alpha \vdash l \quad
				\implies
				\quad T \cup \alpha \vdash \sigma(l)
			\end{equation}

			Thus when $l$ is progated, $\sigma(l)$ can also be propagated.
		\end{block}
	\end{frame}

	\subsection{Symmetry Propagation}
	\begin{frame}
		\frametitle{Symmetry Propagation}

	\end{frame}

\section{Symmetry Optimizing Variable Branching}

	\subsection{The idea}
	\begin{frame}
		\frametitle{Symmetry Optimizing Variable Branching}

		\begin{block}{Optimization through literal selection}
			Improve dynamic symmetry propagation performance by choosing literals that promote
			symmetry weak-activity.
		\end{block}
	\end{frame}

	\subsection{Candidate Heuristics}
	\begin{frame}
		\frametitle{Symmetry Related Variable Branching Heuristics}

		\begin{block}{Literal optimization}
			\begin{enumerate}
				\item<+-> Get first $n$ undecided variables $V$ from the variable heap
				\item<+-> For each $v \in V$: perform lookahead on choice literals $v$ and $\neg v$
				\item<+-> Continue with branch that has the most weakly-active symmetries
			\end{enumerate}
		\end{block}

		\visible<+->{
		\begin{block}{Approximation technique}
			Assume current choice literals $\delta$, next choice literal $l$, and assignment $\alpha$.
			Instead of performing the lookahead for $l$, let $\delta' = \delta \cup \{l\}$ and let
			the cost of choosing $l$ be:

			\begin{equation}
				c(l) = {\Sigma_{\sigma \in S} \left | \sigma(\delta') - \alpha \right | }
			\end{equation}

			Choose the literal $u$ that minimizes $c(l)$
		\end{block}
		}

	\end{frame}

\section{Break it down}

	\subsection{Conclusion}
	\begin{frame}
		\frametitle{Conclusion}
	\end{frame}

	\subsection{References}
	\begin{frame}[allowframebreaks]
		\frametitle{References}
		\bibliographystyle{IEEEtran}
		\bibliography{../bibliography.bib}
	\end{frame}

	\begin{frame}
	\Huge{\centerline{Questions?}}
	\end{frame}

\end{document}
